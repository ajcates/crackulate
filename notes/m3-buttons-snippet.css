/* ========================================
   MATERIAL 3 BUTTONS & COMPONENTS
   Modern button styles with state layers and ripple effects
   ======================================== */

/* === MATERIAL 3 BUTTON BASE === */
/* Common button properties */
.m3-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  height: 40px;
  padding: 10px 24px;
  border: none;
  border-radius: var(--md-sys-shape-corner-full); /* Fully rounded */
  font: var(--md-sys-typescale-label-large);
  font-family: var(--font-family-ui);
  cursor: pointer;
  transition: box-shadow var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  overflow: hidden;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.m3-btn:disabled {
  cursor: not-allowed;
  opacity: 0.38;
}

/* === STATE LAYER (overlay for interactions) === */
.m3-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: currentColor;
  opacity: 0;
  transition: opacity var(--md-sys-motion-duration-short1) var(--md-sys-motion-easing-standard);
}

.m3-btn:hover::before {
  opacity: var(--md-sys-state-hover-opacity);
}

.m3-btn:focus::before {
  opacity: var(--md-sys-state-focus-opacity);
}

.m3-btn:active::before {
  opacity: var(--md-sys-state-pressed-opacity);
}

/* === FILLED BUTTON (Highest emphasis) === */
.m3-btn-filled {
  background-color: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
  box-shadow: var(--md-sys-elevation-0);
}

.m3-btn-filled:hover {
  box-shadow: var(--md-sys-elevation-1);
}

.m3-btn-filled:active {
  box-shadow: var(--md-sys-elevation-0);
}

/* === FILLED TONAL BUTTON (Medium-high emphasis) === */
.m3-btn-tonal {
  background-color: var(--md-sys-color-secondary-container);
  color: var(--md-sys-color-on-secondary-container);
  box-shadow: var(--md-sys-elevation-0);
}

.m3-btn-tonal:hover {
  box-shadow: var(--md-sys-elevation-1);
}

.m3-btn-tonal:active {
  box-shadow: var(--md-sys-elevation-0);
}

/* === OUTLINED BUTTON (Medium emphasis) === */
.m3-btn-outlined {
  background-color: transparent;
  color: var(--md-sys-color-primary);
  border: 1px solid var(--md-sys-color-outline);
}

.m3-btn-outlined:disabled {
  border-color: var(--md-sys-color-on-surface);
  color: var(--md-sys-color-on-surface);
}

/* === TEXT BUTTON (Low emphasis) === */
.m3-btn-text {
  background-color: transparent;
  color: var(--md-sys-color-primary);
  padding: 10px 12px;
}

/* === ICON BUTTON === */
.m3-btn-icon {
  width: 48px;
  height: 48px;
  padding: 12px;
  border-radius: 50%;
  background-color: transparent;
  color: var(--md-sys-color-on-surface-variant);
}

.m3-btn-icon:hover {
  background-color: color-mix(in srgb, var(--md-sys-color-on-surface), transparent 92%);
}

/* === RIPPLE EFFECT === */
/* Ripple container for touch feedback */
.ripple {
  position: absolute;
  border-radius: 50%;
  background-color: currentColor;
  opacity: 0.3;
  transform: scale(0);
  animation: ripple-animation var(--md-sys-motion-duration-long2) var(--md-sys-motion-easing-standard) forwards;
  pointer-events: none;
}

@keyframes ripple-animation {
  from {
    transform: scale(0);
    opacity: 0.3;
  }
  to {
    transform: scale(2.5);
    opacity: 0;
  }
}

/* === FOCUS RING === */
.m3-btn:focus-visible {
  outline: 2px solid var(--md-sys-color-primary);
  outline-offset: 2px;
}

.m3-btn:focus:not(:focus-visible) {
  outline: none;
}
